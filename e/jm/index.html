<!doctype html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>çŸ­ä¿¡æ¥ç å¹³å°</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				min-height: 100vh;
				color: #333;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 20px;
			}

			.header {
				text-align: center;
				margin-bottom: 30px;
				color: white;
			}

			.header h1 {
				font-size: 2.5rem;
				margin-bottom: 10px;
				text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
			}

			.header p {
				font-size: 1.1rem;
				opacity: 0.9;
			}

			.notice-board {
				background: rgba(255, 255, 255, 0.1);
				backdrop-filter: blur(10px);
				border-radius: 15px;
				padding: 20px;
				margin-bottom: 20px;
				border: 1px solid rgba(255, 255, 255, 0.2);
				color: white;
			}

			.notice-title {
				font-size: 1.2rem;
				font-weight: 600;
				margin-bottom: 15px;
				display: flex;
				align-items: center;
				gap: 10px;
			}

			.notice-list {
				list-style: none;
				padding: 0;
			}

			.notice-list li {
				margin-bottom: 8px;
				padding-left: 20px;
				position: relative;
				opacity: 0.9;
				line-height: 1.5;
			}

			.notice-list li:before {
				content: 'âš ï¸';
				position: absolute;
				left: 0;
				top: 0;
			}

			.controls {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-bottom: 20px;
				background: rgba(255, 255, 255, 0.1);
				backdrop-filter: blur(10px);
				padding: 20px;
				border-radius: 15px;
				border: 1px solid rgba(255, 255, 255, 0.2);
				flex-wrap: wrap;
				gap: 15px;
			}

			.search-controls {
				display: flex;
				gap: 15px;
				align-items: center;
				flex: 1;
				min-width: 300px;
			}

			.search-box {
				flex: 1;
				max-width: 250px;
			}

			.country-select {
				min-width: 150px;
			}

			.country-select select {
				width: 100%;
				padding: 12px 15px;
				border: none;
				border-radius: 25px;
				font-size: 16px;
				background: rgba(255, 255, 255, 0.9);
				box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
				cursor: pointer;
			}

			.search-box input {
				width: 100%;
				padding: 12px 20px;
				border: none;
				border-radius: 25px;
				font-size: 16px;
				background: rgba(255, 255, 255, 0.9);
				box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
			}

			.filter-buttons {
				display: flex;
				gap: 10px;
				flex-wrap: wrap;
			}

			.filter-btn {
				padding: 10px 20px;
				background: rgba(255, 255, 255, 0.2);
				color: white;
				border: 1px solid rgba(255, 255, 255, 0.3);
				border-radius: 20px;
				cursor: pointer;
				transition: all 0.3s ease;
				white-space: nowrap;
			}

			.filter-btn:hover,
			.filter-btn.active {
				background: rgba(255, 255, 255, 0.3);
				transform: translateY(-2px);
			}

			.platform-info {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
				gap: 15px;
				margin-bottom: 20px;
			}

			.info-card {
				background: rgba(255, 255, 255, 0.1);
				backdrop-filter: blur(10px);
				padding: 20px;
				border-radius: 15px;
				text-align: center;
				color: white;
				border: 1px solid rgba(255, 255, 255, 0.2);
			}

			.info-number {
				font-size: 2rem;
				font-weight: 700;
				margin-bottom: 5px;
				color: #4caf50;
			}

			.info-label {
				opacity: 0.8;
				font-size: 0.9rem;
			}

			.numbers-grid {
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
				gap: 20px;
				margin-top: 20px;
			}

			.number-card {
				background: rgba(255, 255, 255, 0.95);
				backdrop-filter: blur(10px);
				border-radius: 15px;
				padding: 20px;
				box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
				border: 1px solid rgba(255, 255, 255, 0.2);
				transition: all 0.3s ease;
				position: relative;
				overflow: hidden;
			}

			.number-card:hover {
				transform: translateY(-5px);
				box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
			}

			.card-header {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-bottom: 15px;
			}

			.country-info {
				display: flex;
				align-items: center;
				gap: 10px;
			}

			.country-flag {
				width: 30px;
				height: 20px;
				border-radius: 3px;
				background: #f0f0f0;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 18px;
			}

			.country-name {
				font-weight: 600;
				color: #2c3e50;
			}

			.status {
				padding: 5px 12px;
				border-radius: 20px;
				font-size: 12px;
				font-weight: 600;
				text-transform: uppercase;
			}

			.status.available {
				background: #e8f5e8;
				color: #27ae60;
			}

			.status.busy {
				background: #fff3cd;
				color: #f39c12;
			}

			.status.offline {
				background: #f8d7da;
				color: #e74c3c;
			}

			.phone-number {
				font-size: 1.4rem;
				font-weight: 700;
				color: #2c3e50;
				text-align: center;
				padding: 15px;
				background: #f8f9fa;
				border-radius: 10px;
				margin: 15px 0;
				letter-spacing: 1px;
				font-family: 'Courier New', monospace;
			}

			.card-info {
				display: flex;
				justify-content: space-between;
				margin-top: 15px;
				font-size: 0.9rem;
				color: #7f8c8d;
			}

			.price {
				color: #27ae60;
				font-weight: 600;
				font-size: 1.1rem;
			}

			.last-used {
				color: #95a5a6;
			}

			.receive-count {
				background: #3498db;
				color: white;
				padding: 2px 8px;
				border-radius: 12px;
				font-size: 0.8rem;
				font-weight: 600;
			}

			.action-buttons {
				display: flex;
				gap: 10px;
				margin-top: 15px;
			}

			.btn {
				flex: 1;
				padding: 12px;
				border: none;
				border-radius: 8px;
				cursor: pointer;
				font-weight: 600;
				transition: all 0.3s ease;
			}

			.btn-primary {
				background: #3498db;
				color: white;
			}

			.btn-primary:hover {
				background: #2980b9;
				transform: translateY(-2px);
			}

			.btn-secondary {
				background: #ecf0f1;
				color: #34495e;
			}

			.btn-secondary:hover {
				background: #d5dbdb;
			}

			@media (max-width: 768px) {
				.controls {
					flex-direction: column;
					gap: 15px;
				}

				.search-controls {
					flex-direction: column;
					width: 100%;
					min-width: auto;
				}

				.search-box,
				.country-select {
					max-width: none;
					width: 100%;
				}

				.filter-buttons {
					flex-wrap: wrap;
					justify-content: center;
					width: 100%;
				}

				.numbers-grid {
					grid-template-columns: 1fr;
				}

				.platform-info {
					grid-template-columns: repeat(2, 1fr);
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="header">
				<h1>ğŸ“± SMSæ¥ç å¹³å°</h1>
				<p>å…¨çƒçŸ­ä¿¡éªŒè¯ç æ¥æ”¶æœåŠ¡ - å¿«é€Ÿ Â· ç¨³å®š Â· å®‰å…¨</p>
			</div>

			<div class="notice-board">
				<div class="notice-title">ğŸ“¢ ä½¿ç”¨é¡»çŸ¥</div>
				<ul class="notice-list">
					<li>éªŒè¯ç ä»…ä¿å­˜30åˆ†é’Ÿå†…æ”¶åˆ°çš„æ‰€æœ‰ä¿¡æ¯ï¼Œè¯·åŠæ—¶æŸ¥çœ‹</li>
					<li>ç”±äºå·ç æ˜¯å…¬å…±çš„ï¼Œæ— æ³•ä¿è¯å”¯ä¸€æ€§ï¼Œè¯·å‹¿ç”¨äºé‡è¦è´¦æˆ·æ³¨å†Œ</li>
					<li>å·ç åœ¨æœåŠ¡å™¨ä¸­ç¼“æ…¢é‡Šæ”¾ä¸­ï¼Œå¦‚æœªæ‰¾åˆ°æ‚¨æ‰€éœ€è¦çš„å·ç å¯ç‚¹å‡»åˆ·æ–°æŒ‰é’®</li>
					<li>éƒ¨åˆ†å¹³å°å¯èƒ½é™åˆ¶è™šæ‹Ÿå·ç ï¼Œå»ºè®®å…ˆæµ‹è¯•åä½¿ç”¨</li>
					<li>å¦‚é‡åˆ°å·ç æ— æ³•æ¥æ”¶ï¼Œè¯·è”ç³»å®¢æœè¿›è¡Œé€€æ¬¾</li>
					<li>ç¦æ­¢ç”¨äºä»»ä½•è¿æ³•è¿è§„ç”¨é€”ï¼Œè¿è€…åæœè‡ªè´Ÿ</li>
					<li>æœ¬å¹³å°7x24å°æ—¶è¿è¡Œï¼Œå¦‚æœ‰é—®é¢˜è¯·è”ç³»å®¢æœ</li>
				</ul>
			</div>

			<div class="platform-info">
				<div class="info-card">
					<div class="info-number">2,847</div>
					<div class="info-label">å¯ç”¨å·ç </div>
				</div>
				<div class="info-card">
					<div class="info-number">156</div>
					<div class="info-label">æ”¯æŒå›½å®¶</div>
				</div>
				<div class="info-card">
					<div class="info-number">99.2%</div>
					<div class="info-label">æˆåŠŸç‡</div>
				</div>
				<div class="info-card">
					<div class="info-number">1.8ç§’</div>
					<div class="info-label">å¹³å‡å“åº”</div>
				</div>
			</div>

			<div class="controls">
				<div class="search-controls">
					<div class="search-box">
						<input type="text" id="searchInput" placeholder="æœç´¢å›½å®¶æˆ–å·ç ..." oninput="searchNumbers()" />
					</div>
					<div class="country-select">
						<select id="countrySelect" onchange="filterByCountry()">
							<option value="">é€‰æ‹©å›½å®¶</option>
						</select>
					</div>
				</div>
				<div class="filter-buttons">
					<button class="filter-btn active" onclick="filterByStatus('all')">å…¨éƒ¨</button>
					<button class="filter-btn" onclick="filterByStatus('available')">å¯ç”¨</button>
					<button class="filter-btn" onclick="filterByRegion('asia')">äºšæ´²</button>
					<button class="filter-btn" onclick="filterByRegion('europe')">æ¬§æ´²</button>
					<button class="filter-btn" onclick="filterByRegion('america')">ç¾æ´²</button>
					<button class="filter-btn" onclick="generateNewNumbers()">ğŸ”„ åˆ·æ–°</button>
				</div>
			</div>

			<div class="numbers-grid" id="numbersGrid"></div>
		</div>

		<script>
			const countries = [
				{ name: 'ç¾å›½', flag: 'ğŸ‡ºğŸ‡¸', code: '+1', region: 'america', format: '(%d%d%d) %d%d%d-%d%d%d%d' },
				{ name: 'åŠ æ‹¿å¤§', flag: 'ğŸ‡¨ğŸ‡¦', code: '+1', region: 'america', format: '(%d%d%d) %d%d%d-%d%d%d%d' },
				{ name: 'å·´è¥¿', flag: 'ğŸ‡§ğŸ‡·', code: '+55', region: 'america', format: '11 9%d%d%d%d-%d%d%d%d' },
				{ name: 'å¢¨è¥¿å“¥', flag: 'ğŸ‡²ğŸ‡½', code: '+52', region: 'america', format: '55 %d%d%d%d %d%d%d%d' },
				{ name: 'é˜¿æ ¹å»·', flag: 'ğŸ‡¦ğŸ‡·', code: '+54', region: 'america', format: '11 %d%d%d%d-%d%d%d%d' },

				{ name: 'è‹±å›½', flag: 'ğŸ‡¬ğŸ‡§', code: '+44', region: 'europe', format: '7%d%d%d %d%d%d%d%d%d' },
				{ name: 'å¾·å›½', flag: 'ğŸ‡©ğŸ‡ª', code: '+49', region: 'europe', format: '151 %d%d%d%d%d%d%d%d' },
				{ name: 'æ³•å›½', flag: 'ğŸ‡«ğŸ‡·', code: '+33', region: 'europe', format: '6 %d%d %d%d %d%d %d%d' },
				{ name: 'æ„å¤§åˆ©', flag: 'ğŸ‡®ğŸ‡¹', code: '+39', region: 'europe', format: '3%d%d %d%d%d %d%d%d%d' },
				{ name: 'è¥¿ç­ç‰™', flag: 'ğŸ‡ªğŸ‡¸', code: '+34', region: 'europe', format: '6%d%d %d%d %d%d %d%d' },
				{ name: 'è·å…°', flag: 'ğŸ‡³ğŸ‡±', code: '+31', region: 'europe', format: '6 %d%d%d%d%d%d%d%d' },
				{ name: 'ç‘å£«', flag: 'ğŸ‡¨ğŸ‡­', code: '+41', region: 'europe', format: '79 %d%d%d %d%d %d%d' },
				{ name: 'å¥¥åœ°åˆ©', flag: 'ğŸ‡¦ğŸ‡¹', code: '+43', region: 'europe', format: '6%d%d %d%d%d%d%d%d%d' },
				{ name: 'æ¯”åˆ©æ—¶', flag: 'ğŸ‡§ğŸ‡ª', code: '+32', region: 'europe', format: '4%d%d %d%d %d%d %d%d' },
				{ name: 'ç‘å…¸', flag: 'ğŸ‡¸ğŸ‡ª', code: '+46', region: 'europe', format: '70 %d%d%d %d%d %d%d' },
				{ name: 'æŒªå¨', flag: 'ğŸ‡³ğŸ‡´', code: '+47', region: 'europe', format: '9%d%d %d%d %d%d%d' },
				{ name: 'ä¸¹éº¦', flag: 'ğŸ‡©ğŸ‡°', code: '+45', region: 'europe', format: '%d%d %d%d %d%d %d%d' },
				{ name: 'èŠ¬å…°', flag: 'ğŸ‡«ğŸ‡®', code: '+358', region: 'europe', format: '50 %d%d%d %d%d%d%d' },
				{ name: 'æ³¢å…°', flag: 'ğŸ‡µğŸ‡±', code: '+48', region: 'europe', format: '5%d%d %d%d%d %d%d%d' },
				{ name: 'ä¿„ç½—æ–¯', flag: 'ğŸ‡·ğŸ‡º', code: '+7', region: 'europe', format: '9%d%d %d%d%d-%d%d-%d%d' },

				{ name: 'ä¸­å›½', flag: 'ğŸ‡¨ğŸ‡³', code: '+86', region: 'asia', format: '1%d%d %d%d%d%d %d%d%d%d' },
				{ name: 'æ—¥æœ¬', flag: 'ğŸ‡¯ğŸ‡µ', code: '+81', region: 'asia', format: '90-%d%d%d%d-%d%d%d%d' },
				{ name: 'éŸ©å›½', flag: 'ğŸ‡°ğŸ‡·', code: '+82', region: 'asia', format: '10-%d%d%d%d-%d%d%d%d' },
				{ name: 'æ–°åŠ å¡', flag: 'ğŸ‡¸ğŸ‡¬', code: '+65', region: 'asia', format: '9%d%d%d %d%d%d%d' },
				{ name: 'æ³°å›½', flag: 'ğŸ‡¹ğŸ‡­', code: '+66', region: 'asia', format: '8%d %d%d%d %d%d%d%d' },
				{ name: 'é©¬æ¥è¥¿äºš', flag: 'ğŸ‡²ğŸ‡¾', code: '+60', region: 'asia', format: '1%d-%d%d%d %d%d%d%d' },
				{ name: 'å°å°¼', flag: 'ğŸ‡®ğŸ‡©', code: '+62', region: 'asia', format: '8%d%d-%d%d%d%d-%d%d%d%d' },
				{ name: 'è²å¾‹å®¾', flag: 'ğŸ‡µğŸ‡­', code: '+63', region: 'asia', format: '9%d%d %d%d%d %d%d%d%d' },
				{ name: 'è¶Šå—', flag: 'ğŸ‡»ğŸ‡³', code: '+84', region: 'asia', format: '9%d %d%d%d %d%d %d%d' },
				{ name: 'å°åº¦', flag: 'ğŸ‡®ğŸ‡³', code: '+91', region: 'asia', format: '9%d%d%d%d %d%d%d%d%d' },
				{ name: 'åœŸè€³å…¶', flag: 'ğŸ‡¹ğŸ‡·', code: '+90', region: 'asia', format: '5%d%d %d%d%d %d%d %d%d' },

				{ name: 'æ¾³å¤§åˆ©äºš', flag: 'ğŸ‡¦ğŸ‡º', code: '+61', region: 'oceania', format: '4 %d%d%d%d %d%d%d%d' },
				{ name: 'æ–°è¥¿å…°', flag: 'ğŸ‡³ğŸ‡¿', code: '+64', region: 'oceania', format: '21 %d%d%d %d%d%d%d' },

				{ name: 'å—é', flag: 'ğŸ‡¿ğŸ‡¦', code: '+27', region: 'africa', format: '8%d %d%d%d %d%d%d%d' },
				{ name: 'åŸƒåŠ', flag: 'ğŸ‡ªğŸ‡¬', code: '+20', region: 'africa', format: '10 %d%d%d%d %d%d%d%d' },
				{ name: 'å°¼æ—¥åˆ©äºš', flag: 'ğŸ‡³ğŸ‡¬', code: '+234', region: 'africa', format: '8%d%d %d%d%d %d%d%d%d' },
				{ name: 'è‚¯å°¼äºš', flag: 'ğŸ‡°ğŸ‡ª', code: '+254', region: 'africa', format: '7%d%d %d%d%d%d%d%d' },
			]

			const statuses = ['available', 'busy', 'offline']
			const statusLabels = { available: 'å¯ç”¨', busy: 'å¿™ç¢Œ', offline: 'ç»´æŠ¤ä¸­' }
			const signals = ['ğŸ“¶ å¼º', 'ğŸ“¶ ä¸­', 'ğŸ“¶ å¼±']

			let allNumbers = []
			let filteredNumbers = []

			function randomDigit() {
				return Math.floor(Math.random() * 10)
			}

			function randomBetween(min, max) {
				return Math.floor(Math.random() * (max - min + 1)) + min
			}

			function createPhoneNumber(country) {
				let result = country.code + ' '
				let format = country.format
				result += format.replace(/%d/g, () => randomDigit())
				return result
			}

			function createPrice() {
				let price = (Math.random() * 1.4 + 0.1).toFixed(2)
				return `$${price}`
			}

			function createReceiveCount() {
				return randomBetween(1, 50)
			}

			function createLastUsed() {
				let seconds = randomBetween(1, 18000)

				if (seconds < 60) {
					return `${seconds}ç§’å‰ä½¿ç”¨`
				} else if (seconds < 3600) {
					let minutes = Math.floor(seconds / 60)
					return `${minutes}åˆ†é’Ÿå‰ä½¿ç”¨`
				} else {
					let hours = Math.floor(seconds / 3600)
					let remainingMinutes = Math.floor((seconds % 3600) / 60)
					if (remainingMinutes === 0) {
						return `${hours}å°æ—¶å‰ä½¿ç”¨`
					} else {
						return `${hours}å°æ—¶${remainingMinutes}åˆ†é’Ÿå‰ä½¿ç”¨`
					}
				}
			}

			function createStatus() {
				return statuses[randomBetween(0, statuses.length - 1)]
			}

			function createSignal() {
				return signals[randomBetween(0, signals.length - 1)]
			}

			function createSingleNumber() {
				let country = countries[randomBetween(0, countries.length - 1)]
				return {
					country: country,
					phoneNumber: createPhoneNumber(country),
					price: createPrice(),
					lastUsed: createLastUsed(),
					status: createStatus(),
					receiveCount: createReceiveCount(),
					signal: createSignal(),
				}
			}

			function createAllNumbers(count) {
				let numbers = []
				for (let i = 0; i < count; i++) {
					numbers.push(createSingleNumber())
				}
				return numbers
			}

			function makeCard(data) {
				let statusClass = data.status
				let statusText = statusLabels[data.status]
				let isDisabled = data.status !== 'available'
				let buttonText = data.status === 'busy' ? 'ç­‰å¾…ä¸­...' : data.status === 'offline' ? 'ç»´æŠ¤ä¸­' : 'è·å–éªŒè¯ç '
				let lastUsedText = data.status === 'busy' ? 'æ­£åœ¨ä½¿ç”¨' : data.status === 'offline' ? 'ç»´æŠ¤ä¸­' : data.lastUsed

				return `
                <div class="number-card" data-country="${data.country.name}" data-number="${data.phoneNumber}" data-price="${data.price}">
                    <div class="card-header">
                        <div class="country-info">
                            <div class="country-flag">${data.country.flag}</div>
                            <div class="country-name">${data.country.name}</div>
                        </div>
                        <div class="status ${statusClass}">${statusText}</div>
                    </div>
                    <div class="phone-number">${data.phoneNumber}</div>
                    <div class="card-info">
                        <span class="price">${data.price}/æ¬¡</span>
                        <span class="last-used">${lastUsedText}</span>
                    </div>
                    <div class="card-info">
                        <span class="receive-count">å·²æ¥æ”¶ ${data.receiveCount} æ¬¡</span>
                        <span style="color: #7f8c8d; font-size: 0.85rem;">ä¿¡å·: ${data.signal}</span>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-primary" ${isDisabled ? 'disabled' : ''} onclick="handleGetCode(this)">${buttonText}</button>
                        <button class="btn btn-secondary" onclick="handleViewRecord(this)">æŸ¥çœ‹è®°å½•</button>
                    </div>
                </div>
            `
			}

			function showNumbers(numbers) {
				let grid = document.getElementById('numbersGrid')
				if (grid) {
					grid.innerHTML = numbers.map(makeCard).join('')
				}
			}

			function setupCountrySelect() {
				let select = document.getElementById('countrySelect')
				if (!select) return

				let sortedCountries = countries.slice().sort((a, b) => a.name.localeCompare(b.name))

				for (let country of sortedCountries) {
					let option = document.createElement('option')
					option.value = country.name
					option.textContent = `${country.flag} ${country.name}`
					select.appendChild(option)
				}
			}

			function searchNumbers() {
				let searchInput = document.getElementById('searchInput')
				if (!searchInput) return

				let searchTerm = searchInput.value.toLowerCase().trim()

				if (searchTerm === '') {
					filteredNumbers = allNumbers.slice()
				} else {
					filteredNumbers = allNumbers.filter((number) => number.country.name.toLowerCase().includes(searchTerm) || number.phoneNumber.toLowerCase().includes(searchTerm) || number.country.code.includes(searchTerm))
				}

				showNumbers(filteredNumbers)
			}

			function filterByCountry() {
				let select = document.getElementById('countrySelect')
				if (!select) return

				let selectedCountry = select.value

				let buttons = document.querySelectorAll('.filter-btn')
				for (let btn of buttons) {
					btn.classList.remove('active')
				}

				if (selectedCountry === '') {
					filteredNumbers = allNumbers.slice()
				} else {
					filteredNumbers = allNumbers.filter((number) => number.country.name === selectedCountry)
				}

				showNumbers(filteredNumbers)
				let searchInput = document.getElementById('searchInput')
				if (searchInput) searchInput.value = ''
			}

			function filterByStatus(status) {
				let buttons = document.querySelectorAll('.filter-btn')
				for (let btn of buttons) {
					btn.classList.remove('active')
				}

				if (window.event && window.event.target) {
					window.event.target.classList.add('active')
				}

				if (status === 'all') {
					filteredNumbers = allNumbers.slice()
				} else if (status === 'available') {
					filteredNumbers = allNumbers.filter((number) => number.status === 'available')
				}

				showNumbers(filteredNumbers)

				let searchInput = document.getElementById('searchInput')
				let countrySelect = document.getElementById('countrySelect')
				if (searchInput) searchInput.value = ''
				if (countrySelect) countrySelect.value = ''
			}

			function filterByRegion(region) {
				let buttons = document.querySelectorAll('.filter-btn')
				for (let btn of buttons) {
					btn.classList.remove('active')
				}

				if (window.event && window.event.target) {
					window.event.target.classList.add('active')
				}

				filteredNumbers = allNumbers.filter((number) => number.country.region === region)
				showNumbers(filteredNumbers)

				let searchInput = document.getElementById('searchInput')
				let countrySelect = document.getElementById('countrySelect')
				if (searchInput) searchInput.value = ''
				if (countrySelect) countrySelect.value = ''
			}

			function generateNewNumbers() {
				let buttons = document.querySelectorAll('.filter-btn')
				for (let btn of buttons) {
					btn.classList.remove('active')
				}

				let firstBtn = buttons[0]
				if (firstBtn) firstBtn.classList.add('active')

				allNumbers = createAllNumbers(24)
				filteredNumbers = allNumbers.slice()
				showNumbers(filteredNumbers)

				let searchInput = document.getElementById('searchInput')
				let countrySelect = document.getElementById('countrySelect')
				if (searchInput) searchInput.value = ''
				if (countrySelect) countrySelect.value = ''
			}

			function startApp() {
				setupCountrySelect()
				allNumbers = createAllNumbers(24)
				filteredNumbers = allNumbers.slice()
				showNumbers(filteredNumbers)
			}

			function handleViewRecord(button) {
				alert('æ‚¨åœ¨30åˆ†é’Ÿå†…æœªè´­ä¹°è¿‡è¯¥å·ç æ— æ³•æŸ¥çœ‹')
			}

			let isSubmitting = false

			async function handleGetCode(button) {
				if (isSubmitting) {
					return
				}

				isSubmitting = true
				button.disabled = true
				let originalText = button.textContent
				button.textContent = 'æ­£åœ¨å‘èµ·æ”¯ä»˜è¯·æ±‚...'

				let card = button.closest('.number-card')
				let phoneNumber = card.getAttribute('data-number')
				let country = card.getAttribute('data-country')
				let priceText = card.getAttribute('data-price')
				let price = parseFloat(priceText.replace('$', ''))

				if (isNaN(price) || price <= 0) {
					alert('ä»·æ ¼ä¿¡æ¯é”™è¯¯ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•')
					button.disabled = false
					button.textContent = originalText
					isSubmitting = false
					return
				}

				try {
					let orderTitle = `${country}å·ç ${phoneNumber}çŸ­ä¿¡æ¥ç æœåŠ¡`

					let formData = new URLSearchParams()
					formData.append('title', orderTitle)
					formData.append('price', price.toFixed(2))
					formData.append('amount', 1)
					formData.append('pay_amount', price.toFixed(2))
					formData.append('img_path', '/jm/jm.png')

					let response = await fetch('/custom-payment', {
						method: 'POST',
						headers: {
							'Content-Type': 'application/x-www-form-urlencoded',
						},
						body: formData,
					})

					if (!response.ok) {
						throw new Error(`HTTP error! status: ${response.status}`)
					}

					let responseData = await response.json()

					if (responseData.url) {
						window.location.href = responseData.url
					} else {
						alert('è·å–æ”¯ä»˜é“¾æ¥å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•')
						button.disabled = false
						button.textContent = originalText
						isSubmitting = false
					}
				} catch (error) {
					console.error('[é”™è¯¯] å¤„ç†è®¢å•æ—¶å‘ç”Ÿé”™è¯¯:', error)
					button.disabled = false
					button.textContent = originalText
					isSubmitting = false
					alert('å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•')
				}
			}

			document.addEventListener('visibilitychange', function () {
				if (!document.hidden) {
					isSubmitting = false
					let buttons = document.querySelectorAll('.btn-primary')
					for (let btn of buttons) {
						if (btn.disabled && btn.textContent === 'æ­£åœ¨å‘èµ·æ”¯ä»˜è¯·æ±‚...') {
							btn.disabled = false
							btn.textContent = 'è·å–éªŒè¯ç '
						}
					}
				}
			})

			window.addEventListener('pageshow', function (event) {
				if (event.persisted) {
					isSubmitting = false
					let buttons = document.querySelectorAll('.btn-primary')
					for (let btn of buttons) {
						if (btn.disabled && btn.textContent === 'æ­£åœ¨å‘èµ·æ”¯ä»˜è¯·æ±‚...') {
							btn.disabled = false
							btn.textContent = 'è·å–éªŒè¯ç '
						}
					}
				}
			})

			if (document.readyState === 'loading') {
				document.addEventListener('DOMContentLoaded', startApp)
			} else {
				startApp()
			}
		</script>
		<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" data-cf-beacon='{"version":"2024.11.0","token":"7a1d4faeffa7438aa014c61bf087f1ac","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}'></script>
	</body>
</html>
